var app=app||{};!function(a){app.main={growLine:function(){a(window).load(function(){a(".grow-underline").addClass("grow")})},top:function(){a(".top").on("click",function(){return a("html, body").animate({scrollTop:0},400),!1})},initVideoModule:function(){a(".js-video").on("click",function(){var o=a(this).attr("data-vimeoID");void 0===o&&""===o||app.main.createVideoHtml(o)})},clickEvents:function(){a("#video-close").on("click",function(){app.main.destroyVideoModule()}),a("#contactClose").on("click",function(){app.main.contactClose()}),a(document).keyup(function(o){27===o.keyCode&&(a(".video-wrapper").hasClass("show")&&app.main.destroyVideoModule(),a(".contact").hasClass("show")&&app.main.contactClose())})},createVideoHtml:function(o){a(".video-container").append('<div id="video-player" class="video-player"><div id="video-close" class="icon-close theater close" aria-hidden="true"></div></div>'),app.main.vimeo(o),app.main.clickEvents()},destroyVideoModule:function(){a(".video-wrapper, .video-container").removeClass("show"),a("#video-player").remove(),a(".lights-off").removeClass("lights-off")},vimeo:function(o){a(".video-wrapper").addClass("show");var e={id:o,width:640,autoplay:!0},i=new Vimeo.Player("video-player",e);i.setVolume(.8),i.ready().then(function(){app.main.fitVid(),a(".video-container").addClass("show")})},fitVid:function(){a("#video-player").fitVids()},theaterMode:function(){a("#bulb").on("click",function(){a(".theater").toggleClass("lights-off")})},contact:function(){a("#initContact").on("click",function(){a(".contact").addClass("show")})},contactClose:function(){a(".contact").removeClass("show")},mobileMenuEvent:function(){a(".hamburger").on("click",function(){a(this).toggleClass("is-active"),a(".header").toggleClass("show")})},sortWorkPage:function(){var o=a("#initWorkCommercial"),e=a("#initWorkMusic");o.on("click",function(){a(this).addClass("active"),e.removeClass("active"),app.main.showCommercial(),a(".featured").removeClass("featured"),a(".stacked-work").addClass("sorted")}),e.on("click",function(){a(this).addClass("active"),o.removeClass("active"),app.main.showMusic(),a(".featured").removeClass("featured"),a(".stacked-work").addClass("sorted")})},showMusic:function(){a(".thumbnail").addClass("hide").removeClass("show-up");var e=0;a(".music").each(function(){var o=a(this);setTimeout(function(){o.removeClass("hide").addClass("show-up")},e),e+=100})},showCommercial:function(){a(".thumbnail").addClass("hide").removeClass("show-up");var e=0;a(".commercial").each(function(){var o=a(this);setTimeout(function(){o.removeClass("hide").addClass("show-up")},e),e+=100})},scrubVideo:function(){var i;a("#homeVideo").mousemove(function(o){i=o.pageX;var e=a("#homeVideo").get(0).duration*i/a("#homeVideo").width();console.log(e),a("#homeVideo").get(0).currentTime=e-22})},init:function(){app.main.growLine(),app.main.top(),app.main.scrubVideo(),app.main.theaterMode(),app.main.initVideoModule(),app.main.contact(),app.main.clickEvents(),app.main.sortWorkPage(),app.main.mobileMenuEvent()}},jQuery(document).ready(function(){app.main.init()})}(jQuery);